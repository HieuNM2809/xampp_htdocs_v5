---
// Fetch posts t·ª´ JSONPlaceholder API
interface Post {
	userId: number;
	id: number;
	title: string;
	body: string;
}

const response = await fetch('https://jsonplaceholder.typicode.com/posts');
const posts: Post[] = await response.json();
---

<!DOCTYPE html>
<html lang="vi">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Danh s√°ch Posts - Astro API Examples</title>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
	</head>
	<body>
		<div class="container">
			<header>
				<div class="logo">
					<svg width="40" height="40" viewBox="0 0 256 256" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M163.008 18.929c1.944 2.413 2.935 5.67 4.917 12.181l43.309 142.27a180.277 180.277 0 00-51.778-17.53l-28.198-95.29a3.67 3.67 0 00-7.042.01l-27.857 95.232a180.225 180.225 0 00-52.01 17.557l43.52-142.281c1.99-6.502 2.983-9.752 4.927-12.16a15.999 15.999 0 016.484-4.798c2.872-1.154 6.271-1.154 13.07-1.154h31.085c6.807 0 10.211 0 13.086 1.157a16.004 16.004 0 016.487 4.806z" fill="url(#paint0_linear)"></path>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M168.19 180.151c-7.139 6.105-21.39 10.268-37.804 10.268-20.147 0-37.033-6.272-41.513-14.707-1.602 4.835-1.961 10.367-1.961 13.902 0 0-5.875 61.686 43.074 58.386 48.949-3.3 31.128-47.835 31.128-47.835 2.898-6.392 4.348-9.589 5.153-12.425a41.15 41.15 0 001.405-6.52c.024-.487.031-.975.031-1.463 0-3.076-.338-6.08-.513-7.606z" fill="#FF5D01"></path>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M168.19 180.151c-7.139 6.105-21.39 10.268-37.804 10.268-20.147 0-37.033-6.272-41.513-14.707-1.602 4.835-1.961 10.367-1.961 13.902 0 0-5.875 61.686 43.074 58.386 48.949-3.3 31.128-47.835 31.128-47.835 2.898-6.392 4.348-9.589 5.153-12.425a41.15 41.15 0 001.405-6.52c.024-.487.031-.975.031-1.463 0-3.076-.338-6.08-.513-7.606z" fill="url(#paint1_linear)"></path>
						<defs>
							<linearGradient id="paint0_linear" x1="0" y1="0" x2="256" y2="256" gradientUnits="userSpaceOnUse">
								<stop stop-color="#D83333"></stop>
								<stop offset="1" stop-color="#F041FF"></stop>
							</linearGradient>
							<linearGradient id="paint1_linear" x1="0" y1="0" x2="256" y2="256" gradientUnits="userSpaceOnUse">
								<stop stop-color="#D83333"></stop>
								<stop offset="1" stop-color="#F041FF"></stop>
							</linearGradient>
						</defs>
					</svg>
					<span>Astro API Examples</span>
				</div>
				<nav>
					<a href="/">Trang ch·ªß</a>
					<a href="/posts" class="active">Danh s√°ch Posts</a>
				</nav>
			</header>

			<main>
				<div class="page-header">
					<h1 class="page-title">üìù Danh s√°ch Posts</h1>
					<p class="page-subtitle">
						D·ªØ li·ªáu ƒë∆∞·ª£c fetch t·ª´ <code>https://jsonplaceholder.typicode.com/posts</code>
					</p>
					<div class="stats">
						<span class="badge">T·ªïng s·ªë: {posts.length} posts</span>
					</div>
				</div>

				<div class="posts-grid">
					{posts.map((post) => (
						<article class="post-card">
							<div class="post-header">
								<span class="user-badge">User #{post.userId}</span>
								<span class="post-id">#{post.id}</span>
							</div>
							<h2 class="post-title">{post.title}</h2>
							<p class="post-excerpt">
								{post.body.length > 100 
									? post.body.substring(0, 100) + '...' 
									: post.body}
							</p>
							<a href={`/posts/${post.id}`} class="read-more">
								ƒê·ªçc ti·∫øp ‚Üí
							</a>
						</article>
					))}
				</div>
			</main>

			<footer>
				<p>Built with ‚ù§Ô∏è using <a href="https://astro.build" target="_blank">Astro</a></p>
			</footer>
		</div>

		<style>
			:root {
				--primary: #ff5d01;
				--primary-dark: #d83333;
				--secondary: #f041ff;
				--bg: #0f1117;
				--surface: #1a1d29;
				--surface-light: #23283a;
				--text: #ffffff;
				--text-secondary: #9ca3af;
				--border: rgba(255, 255, 255, 0.1);
				--shadow: rgba(0, 0, 0, 0.3);
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
				background: var(--bg);
				color: var(--text);
				line-height: 1.6;
				min-height: 100vh;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
			}

			/* Header */
			header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 20px 0;
				margin-bottom: 60px;
				border-bottom: 1px solid var(--border);
			}

			.logo {
				display: flex;
				align-items: center;
				gap: 12px;
				font-size: 1.2rem;
				font-weight: 700;
			}

			nav {
				display: flex;
				gap: 30px;
			}

			nav a {
				color: var(--text-secondary);
				text-decoration: none;
				font-weight: 500;
				transition: color 0.3s ease;
				position: relative;
			}

			nav a:hover,
			nav a.active {
				color: var(--text);
			}

			nav a.active::after {
				content: '';
				position: absolute;
				bottom: -8px;
				left: 0;
				width: 100%;
				height: 2px;
				background: linear-gradient(90deg, var(--primary), var(--secondary));
				border-radius: 2px;
			}

			/* Page Header */
			.page-header {
				text-align: center;
				margin-bottom: 60px;
			}

			.page-title {
				font-size: 3rem;
				font-weight: 700;
				margin-bottom: 15px;
				background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}

			.page-subtitle {
				font-size: 1.1rem;
				color: var(--text-secondary);
				margin-bottom: 20px;
			}

			.page-subtitle code {
				background: var(--surface);
				padding: 4px 10px;
				border-radius: 4px;
				color: var(--primary);
				font-size: 0.9rem;
				border: 1px solid var(--border);
			}

			.stats {
				margin-top: 20px;
			}

			.badge {
				display: inline-block;
				background: var(--surface);
				padding: 10px 20px;
				border-radius: 20px;
				font-weight: 600;
				border: 1px solid var(--border);
			}

			/* Posts Grid */
			.posts-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 25px;
				margin-bottom: 60px;
			}

			.post-card {
				background: var(--surface);
				border: 1px solid var(--border);
				border-radius: 12px;
				padding: 25px;
				transition: all 0.3s ease;
				display: flex;
				flex-direction: column;
			}

			.post-card:hover {
				transform: translateY(-5px);
				border-color: var(--primary);
				box-shadow: 0 15px 35px var(--shadow);
			}

			.post-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 15px;
			}

			.user-badge {
				background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
				color: white;
				padding: 5px 12px;
				border-radius: 12px;
				font-size: 0.8rem;
				font-weight: 600;
			}

			.post-id {
				color: var(--text-secondary);
				font-size: 0.9rem;
				font-weight: 600;
			}

			.post-title {
				font-size: 1.3rem;
				margin-bottom: 15px;
				color: var(--text);
				line-height: 1.4;
				display: -webkit-box;
				-webkit-line-clamp: 2;
				-webkit-box-orient: vertical;
				overflow: hidden;
				text-transform: capitalize;
			}

			.post-excerpt {
				color: var(--text-secondary);
				margin-bottom: 20px;
				flex-grow: 1;
				line-height: 1.6;
			}

			.read-more {
				color: var(--primary);
				text-decoration: none;
				font-weight: 600;
				transition: all 0.3s ease;
				align-self: flex-start;
			}

			.read-more:hover {
				color: var(--secondary);
				transform: translateX(5px);
			}

			/* Footer */
			footer {
				text-align: center;
				padding: 40px 0;
				color: var(--text-secondary);
				border-top: 1px solid var(--border);
			}

			footer a {
				color: var(--primary);
				text-decoration: none;
			}

			footer a:hover {
				text-decoration: underline;
			}

			/* Responsive */
			@media (max-width: 768px) {
				.page-title {
					font-size: 2rem;
				}

				.posts-grid {
					grid-template-columns: 1fr;
				}

				header {
					flex-direction: column;
					gap: 20px;
				}

				nav {
					gap: 20px;
				}
			}
		</style>
	</body>
</html>
